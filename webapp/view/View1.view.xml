<mvc:View
    xmlns:upload="sap.m.upload"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    controllerName="project1.controller.View1"
    displayBlock="true"
>
    <Page
        id="page"
        title="Slide Deck Migration Tool"
    >
        <content>
            <Wizard
                id="migrationWizard"
                showNextButton="false"
                renderMode="Page"
            >
                <!-- Step 1: Introduction -->
                <WizardStep
                    id="introStep"
                    title="Introduction"
                    validated="true"
                >
                    <FormattedText htmlText="{/Slide1}" />
                </WizardStep>
                <!-- Step 2: Upload -->
                <WizardStep
                    id="uploadStep"
                    title="Upload"
                    validated="false"
                >
                    <VBox id="_IDGenVBox3">
                        <FormattedText htmlText="{/Slide2}" />
                        <VBox id="_IDGenVBox">
                            <upload:UploadSet
                                id="UploadSet"
                                fileTypes="pptx"
                                maxFileSize="10000"
                                uploadCompleted="onUploadComplete"
                                selectionChanged="onSelectionChange"
                                mode="SingleSelect"
                                uploadUrl="upload"
                            />
                        </VBox>
                        <VBox
                            id="fileContainer"
                            class="sapUiSmallMarginTop"
                        >
                            <!-- Display uploaded file name here -->
                        </VBox>
                    </VBox>
                </WizardStep>
                <!-- Step 3: Template -->
                <WizardStep
                    id="selectTemplateStep"
                    title="Template"
                    validated="false"
                >
                    <VBox id="_IDGenVBox4">
                        <Text
                            id="_IDGenText9"
                            text="Select a new template for your slide deck."
                            class="sapUiSmallMarginBottom"
                        />
                        <FormattedText htmlText="{/Slide3_start}" />
                        <Select
                                width="300px"
                                wrapItemsText="true"
                                items="{
                                    path: '/templates',
                                    sorter: { path: 'value' }
                                }">
                            <core:Item key="{key}" text="{value}" />
                        </Select>
                        <FormattedText htmlText="{/Slide3_end}" />
                    </VBox>
                    <SlideTile
                        id="slideTile1"
                        tiles="{/slideTile1}"
                        scope="{=${/scope} === 'Actions' ? 'Actions' : 'Display'}"
                        tooltip="SlideTile 1"
                        press="pressSlideTile"
                        class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                        sizeBehavior="{/sizeBehavior}"
                    >
                        <GenericTile
                            id="tile6"
                            backgroundImage="{backgroundImage}"
                            state="{=${state} || 'Loaded'}"
                            tooltip="{tooltip}"
                            frameType="TwoByOne"
                            press="press"
                            sizeBehavior="{/sizeBehavior}"
                        >
                            <TileContent
                                id="_IDGenTileContent"
                                footer="{footer}"
                            >
                                <NewsContent
                                    id="_IDGenNewsContent"
                                    contentText="{contentText}"
                                    subheader="{subtitle}"
                                />
                            </TileContent>
                        </GenericTile>
                    </SlideTile>
                    <SlideTile
                        id="slideTile2"
                        tiles="{/slideTile2}"
                        scope="{=${/scope} === 'Actions' ? 'Actions' : 'Display'}"
                        tooltip="SlideTile 2"
                        press="pressSlideTile"
                        class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                        sizeBehavior="{/sizeBehavior}"
                    >
                        <GenericTile
                            id="tile7"
                            backgroundImage="{backgroundImage}"
                            state="{=${state} || 'Loaded'}"
                            tooltip="{tooltip}"
                            frameType="TwoByOne"
                            press="press"
                            sizeBehavior="{/sizeBehavior}"
                        >
                            <TileContent
                                id="_IDGenTileContent2"
                                footer="{footer}"
                            >
                                <NewsContent
                                    id="_IDGenNewsContent2"
                                    contentText="{contentText}"
                                    subheader="{subtitle}"
                                />
                            </TileContent>
                        </GenericTile>
                    </SlideTile>
                    <SlideTile
                        id="slideTile3"
                        tiles="{/slideTile3}"
                        scope="{=${/scope} === 'Actions' ? 'Actions' : 'Display'}"
                        tooltip="SlideTile 3"
                        class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                        sizeBehavior="{/sizeBehavior}"
                        press="onTilePress"
                    >
                        <GenericTile
                            id="tile8"
                            backgroundImage="{backgroundImage}"
                            state="{=${state} || 'Loaded'}"
                            tooltip="{tooltip}"
                            frameType="TwoByOne"
                            sizeBehavior="{/sizeBehavior}"
                            press="onTilePress"
                        >
                            <TileContent
                                id="_IDGenTileContent3"
                                footer="{footer}"
                                contentText="{contentText}"
                                subheader="{subtitle}"
                            >
                                <NewsContent
                                    id="_IDGenNewsContent3"
                                    contentText="{contentText}"
                                    subheader="{subtitle}"
                                />
                            </TileContent>
                        </GenericTile>
                    </SlideTile>
                    <SlideTile
                        id="slideTile4"
                        tiles="{/slideTile4}"
                        scope="{=${/scope} === 'Actions' ? 'Actions' : 'Display'}"
                        tooltip="SlideTile 4"
                        press="onTilePress"
                        class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
                        sizeBehavior="{/sizeBehavior}"
                    >
                        <GenericTile
                            id="tile9"
                            backgroundImage="{backgroundImage}"
                            state="{=${state} || 'Loaded'}"
                            tooltip="{tooltip}"
                            frameType="TwoByOne"
                            press="press"
                            sizeBehavior="{/sizeBehavior}"
                        >
                            <TileContent
                                id="_IDGenTileContent4"
                                footer="{footer}"
                            >
                                <NewsContent
                                    id="_IDGenNewsContent4"
                                    contentText="{contentText}"
                                    subheader="{subtitle}"
                                />
                            </TileContent>
                        </GenericTile>
                    </SlideTile>
                </WizardStep>
                <!-- Step 4: Preview -->
                <WizardStep
                    id="previewStep"
                    title="Preview"
                    validated="false"
                >
                    <VBox id="_IDGenVBox5">
                        <FlexBox
                            id="_IDGenFlexBox"
                            direction="Column"
                            renderType="Div"
                            class="sapUiSmallMargin"
                        >
                            <FormattedText htmlText="{/Slide4}" />

                            <PDFViewer
                                id="_IDGenPDFViewer"
                                source="/upload/Envases_Assessment.pdf"
                                isTrustedSource="true"
                                height="800px"
                                width="100%"
                                showDownloadButton="false"
                            >
                                <errorPlaceholder />
                                <layoutData>
                                    <FlexItemData
                                        id="_IDGenFlexItemData"
                                        growFactor="1"
                                    />
                                </layoutData>
                            </PDFViewer>
                        </FlexBox>
                    </VBox>
                </WizardStep>
                <!-- Step 5: Download -->
                <WizardStep
                    id="finalizeStep"
                    title="Download"
                    validated="false"
                >
                    <VBox id="_IDGenVBox6">
                        <FormattedText htmlText="{/Slide5}" />
                        <!-- Add finalization content here -->
                    </VBox>
                    <upload:UploadSet
                        id="UploadSetNew"
                        instantUpload="true"
                        showIcons="true"
                        uploadEnabled="true"
                        terminationEnabled="true"
                        fileTypes="txt,doc,png"
                        maxFileNameLength="30"
                        maxFileSize="200"
                        mediaTypes="text/plain,application/msword,image/png"
                        uploadUrl="../../../../upload"
                        items="{path: '/items', templateShareable: false}"
                        mode="MultiSelect"
                        selectionChanged="onSelectionChange"
                        directory="true"
                    >
                        <upload:items>
                            <upload:UploadSetItem
                                fileName="{fileName}"
                                mediaType="{mediaType}"
                                url="{url}"
                                thumbnailUrl="{thumbnailUrl}"
                                attributes="{path: 'attributes', templateShareable: false}"
                                statuses="{path: 'statuses', templateShareable: false}"
                                uploadState="{uploadState}"
                            >
                                <upload:attributes>
                                    <ObjectAttribute
                                        title="{title}"
                                        text="{text}"
                                        active="{active}"
                                    />
                                </upload:attributes>
                                <upload:markers>
                                    <ObjectMarker
                                        type="{type}"
                                        visibility="{visibility}"
                                    />
                                </upload:markers>
                                <upload:statuses>
                                    <ObjectStatus
                                        title="{title}"
                                        text="{text}"
                                        state="{state}"
                                        icon="{icon}"
                                        active="{active}"
                                    />
                                </upload:statuses>
                            </upload:UploadSetItem>
                        </upload:items>
                    </upload:UploadSet>
                </WizardStep>
            </Wizard>
            <!-- Navigation Buttons -->
            <VBox
                id="_IDGenVBox7"
                alignItems="End"
            >
                <Button
                    id="startButton"
                    text="Start Migration"
                    type="Emphasized"
                    press="onStartPress"
                />
            </VBox>
            <HBox
                id="navButtons"
                justifyContent="SpaceBetween"
                alignItems="Center"
                class="sapUiSmallMarginTop"
            >
                <Button
                    id="backButton"
                    text="Back"
                    press="onBackPress"
                />
                <Button
                    id="nextButton"
                    text="Next"
                    type="Emphasized"
                    press="onNextPress"
                />
                <Button
                    id="finishButton"
                    text="Finish"
                    type="Emphasized"
                    press="onFinishPress"
                />
            </HBox>
        </content>
    </Page>
</mvc:View>
